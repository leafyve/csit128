<!DOCTYPE html>
<html>
<head>
    <title>A2-G6T09-1037110,1036488(Shannon Lee Si Ying, Lim En Le)</title>
    <style>
        /* Part 1 Styling */
        #part1_heading {
            background-color: #deeaf6;
            font-size: 110%;
            padding: 10px;
        }

        #part1_table {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        #part1_td {
            padding: 8px 12px;
            text-align: left;
        }

        /* Part 2 Game Styling */
        #part2_container {
            font-family: Arial, sans-serif;
            margin: 20px 0;
        }

        #part2_table {
            border: 2px solid black;
            border-collapse: collapse;
            width: 600px;
            background-color: #f0f0f0;
        }

        #part2_table td {
            padding: 10px;
            border: 1px solid black;
        }

        .part2_label {
            font-weight: bold;
            width: 150px;
        }

        .part2_character {
            display: inline-block;
            width: 80px;
            height: 80px;
            margin: 10px;
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            line-height: 80px;
            background-color: #ffffff;
            border: 2px solid #333;
            cursor: pointer;
            border-radius: 10px;
        }

        .part2_character:hover {
            background-color: #e0e0e0;
        }

        #part2_scoreDisplay {
            font-size: 24px;
            font-weight: bold;
            color: #0066cc;
        }

        #part2_highestScore {
            font-weight: bold;
            color: #cc0000;
        }

        .part2_button {
            padding: 8px 20px;
            font-size: 14px;
            margin: 5px;
            cursor: pointer;
        }

        #part2_nameInput {
            width: 200px;
            padding: 5px;
        }

        #part2_characterSelect {
            width: 150px;
            padding: 5px;
            font-size: 16px;
        }
    </style>
    <script>
        // Global variables for Part 2 Game
        var playerName = "";
        var chosenCharacter = "";
        var currentScore = 0;
        var highestScore = 0;
        var highestScorePlayer = "";
        var gameInterval = null;
        var isGameRunning = false;
        var allCharacters = ["B", "F", "$", "%", "3", "9"];
        var currentCharacters = ["", "", ""];

        window.onload = function() {
            // Initialize game controls
            disableGameControls();
            document.getElementById('part2_nameInput').addEventListener('input', checkNameInput);
        };

        function checkNameInput() {
            var name = document.getElementById('part2_nameInput').value.trim();
            var startButton = document.getElementById('part2_startButton');
            var characterSelect = document.getElementById('part2_characterSelect');
            
            if (name === "") {
                startButton.disabled = true;
                characterSelect.disabled = true;
            } else {
                startButton.disabled = false;
                characterSelect.disabled = false;
            }
        }

        function disableGameControls() {
            document.getElementById('part2_startButton').disabled = true;
            document.getElementById('part2_characterSelect').disabled = true;
            document.getElementById('part2_stopButton').disabled = true;
        }

        function startGame() {
            playerName = document.getElementById('part2_nameInput').value.trim();
            chosenCharacter = document.getElementById('part2_characterSelect').value;
            
            if (playerName === "") {
                alert("Please enter your name!");
                return;
            }

            // Reset score and update display
            currentScore = 0;
            updateScoreDisplay();
            
            // Disable name input and character selection during game
            document.getElementById('part2_nameInput').disabled = true;
            document.getElementById('part2_characterSelect').disabled = true;
            document.getElementById('part2_startButton').disabled = true;
            document.getElementById('part2_stopButton').disabled = false;
            
            isGameRunning = true;
            
            // Generate first set of characters immediately
            generateRandomCharacters();
            
            // Start generating characters every 2 seconds
            gameInterval = setInterval(generateRandomCharacters, 2000);
        }

        function stopGame() {
            isGameRunning = false;
            clearInterval(gameInterval);
            
            // Update highest score if current score is higher
            if (currentScore > highestScore) {
                highestScore = currentScore;
                highestScorePlayer = playerName;
                updateHighestScore();
            }
            
            // Enable controls for next game
            document.getElementById('part2_nameInput').disabled = false;
            document.getElementById('part2_characterSelect').disabled = false;
            document.getElementById('part2_startButton').disabled = false;
            document.getElementById('part2_stopButton').disabled = true;
        }

        function generateRandomCharacters() {
            var shuffled = allCharacters.slice();
            
            // Fisher-Yates shuffle algorithm
            for (var i = shuffled.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var temp = shuffled[i];
                shuffled[i] = shuffled[j];
                shuffled[j] = temp;
            }
            
            // Take first 3 characters (guaranteed to be unique)
            currentCharacters = [shuffled[0], shuffled[1], shuffled[2]];
            
            // Display characters
            document.getElementById('part2_char1').textContent = currentCharacters[0];
            document.getElementById('part2_char2').textContent = currentCharacters[1];
            document.getElementById('part2_char3').textContent = currentCharacters[2];
        }

        function characterClicked(position) {
            if (!isGameRunning) {
                return;
            }
            
            var clickedChar = currentCharacters[position];
            
            if (clickedChar === chosenCharacter) {
                // Correct character clicked - gain 4 points
                currentScore += 4;
            } else {
                // Wrong character clicked - lose 3 points
                currentScore -= 3;
            }
            
            updateScoreDisplay();
        }

        function updateScoreDisplay() {
            document.getElementById('part2_scoreDisplay').textContent = currentScore;
        }

        function updateHighestScore() {
            document.getElementById('part2_highestScore').textContent = 
                "Highest: " + highestScore + " " + highestScorePlayer;
        }
    </script>
</head>
<body>
    <!-- Part 1: Group Information Table -->
    <h1>Part 1: Group Information</h1>
    <section>
        <table id="part1_table" border="1">
            <tr>
                <th colspan="3" id="part1_heading">CSIT128: Assignment 2</th>
                <th id="part1_heading">Group G6T09</th>
            </tr>
            <tr>
                <td rowspan="3" style="width: 150px; word-wrap: break-word; padding-left: 5px;">
                    Student Number / Name / Email
                </td>
                <td id="part1_td" style="padding-right: 20px;">1037110</td>
                <td id="part1_td" style="padding-right: 30px;">Shannon Lee Si Ying</td>
                <td id="part1_td" style="padding-right: 50px;">shannonlsy@gmail.com</td>
            </tr>
            <tr>
                <td id="part1_td">1036488</td>
                <td id="part1_td">Lim En Le</td>
                <td id="part1_td">limenle@gmail.com</td>
            </tr>
            <tr>
                <td id="part1_td">-</td>
                <td id="part1_td">-</td>
                <td id="part1_td">-</td>
            </tr>
        </table>
        <hr>
    </section>

    <!-- Part 2: Game -->
    <h1>Part 2: Game</h1>
    <section id="part2_container">
        <table id="part2_table">
            <tr>
                <td class="part2_label">Name:</td>
                <td colspan="3">
                    <input type="text" id="part2_nameInput" placeholder="Enter your name">
                </td>
            </tr>
            <tr>
                <td class="part2_label">Your chosen character:</td>
                <td>
                    <select id="part2_characterSelect">
                        <option value="B">B</option>
                        <option value="F">F</option>
                        <option value="$">$</option>
                        <option value="%">%</option>
                        <option value="3">3</option>
                        <option value="9">9</option>
                    </select>
                </td>
                <td class="part2_label" style="text-align: right;">Current Score:</td>
                <td><span id="part2_scoreDisplay">0</span></td>
            </tr>
            <tr>
                <td colspan="4">
                    <button class="part2_button" id="part2_startButton" onclick="startGame()">
                        Start Game
                    </button>
                    <button class="part2_button" id="part2_stopButton" onclick="stopGame()">
                        Stop Game
                    </button>
                </td>
            </tr>
            <tr>
                <td colspan="4" style="text-align: center;">
                    <div class="part2_character" id="part2_char1" onclick="characterClicked(0)"></div>
                    <div class="part2_character" id="part2_char2" onclick="characterClicked(1)"></div>
                    <div class="part2_character" id="part2_char3" onclick="characterClicked(2)"></div>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    <span id="part2_highestScore">Highest: 0</span>
                </td>
            </tr>
        </table>
        <hr>
    </section>

    <!-- Part 3: XML Display -->
    <h1>Part 3: Weather Forecast</h1>
    <section>
        <p>The weather forecast data is displayed using XML, XSD, and XSLT.</p>
        <p>Please open <strong>A2.xml</strong> in a web browser to view the formatted weather forecast table.</p>
        <hr>
    </section>
</body>
</html>