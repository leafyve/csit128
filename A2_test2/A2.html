<html>
    <head>
        <title>A2-G6T09-1037110,1036488(Shannon Lee Si Ying, Lim En Le)</title>
        <style>
            /* Part 1 Styles */
            #part1_heading {
                background-color: #deeaf6;
                font-size: 110%;
                padding: 10px;
            }

            #part1_table {
                font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            }

            #part1_td {
                padding: 8px 12px;
                text-align: left;
            }

            /* Part 2 Game Styles */
            #part2_main_table {
                border-collapse: collapse;
                margin-top: 20px;
                font-family: Arial, sans-serif;
            }

            #part2_header {
                background-color: #f7caac;
                font-size: 28px;
                font-weight: bold;
                text-align: center;
                padding: 15px;
            }

            #part2_name_row {
                background-color: #f7caac;
                padding: 10px;
            }

            #part2_control_row {
                background-color: #deeaf6;
                padding: 10px;
            }
            
            #part2_score_row {
                background-color: #fff2cc;
                padding: 10px;
            }

            #part2_button_row {
                background-color: #99ff99;
                padding: 15px;
                text-align: center;
            }

            .part2_character_cell {
                width: 250px;
                height: 100px;
                text-align: center;
                vertical-align: middle;
                font-size: 25px;
                font-weight: normal;
                cursor: pointer;
                border: 1px solid black;
            }

            .part2_character_big {
                font-size: 72px;
                font-weight: bold;
            }

            #part2_highest_row {
                padding: 15px;
                font-size: 20px;
                font-weight: bold;
                color: red;
            }

            .part2_game_button {
                padding: 8px 20px;
                font-size: 14px;
                margin: 0 10px;
                cursor: pointer;
            }

            #part2_score_display {
                color: red;
                font-weight: bold;
                font-size: 24px;
            }
        </style>
        <script>
            // Global variables for Part 2 Game
            var gameInterval;
            var currentScore = 0;
            var highestScore = -Infinity;
            var highestPlayerName = "";
            var chosenCharacter = "";
            var isGameRunning = false;

            window.onload = function() {
                // Initialize Part 2 controls
                document.getElementById('startGameBtn').disabled = true;
                document.getElementById('stopGameBtn').disabled = true;
                document.getElementById('characterSelect').disabled = true;

                // Enable game when name is entered
                document.getElementById('playerName').addEventListener('input', function() {
                    var nameValue = this.value.trim();
                    if (nameValue !== '') {
                        document.getElementById('startGameBtn').disabled = false;
                        document.getElementById('characterSelect').disabled = false;
                    } else {
                        document.getElementById('startGameBtn').disabled = true;
                        document.getElementById('stopGameBtn').disabled = true;
                        document.getElementById('characterSelect').disabled = true;
                    }
                });
            };

            // Part 2 Game Functions
            function startGame() {
                var playerName = document.getElementById('playerName').value.trim();
                if (playerName === '') {
                    alert('Please enter your name to start the game');
                    return;
                }

                // Reset score to 0 when starting new game
                currentScore = 0;
                updateScore();

                // Get chosen character
                chosenCharacter = document.getElementById('characterSelect').value;

                // Disable name input and character selection during game
                document.getElementById('playerName').disabled = true;
                document.getElementById('characterSelect').disabled = true;
                document.getElementById('startGameBtn').disabled = true;
                document.getElementById('stopGameBtn').disabled = false;

                isGameRunning = true;

                // Start generating random characters every 2 seconds
                generateRandomCharacters();
                gameInterval = setInterval(generateRandomCharacters, 2000);
            }

            function stopGame() {
                clearInterval(gameInterval);
                isGameRunning = false;

                // Update highest score if current score is higher
                if (currentScore > highestScore) {
                    highestScore = currentScore;
                    highestPlayerName = document.getElementById('playerName').value.trim();
                    document.getElementById('highestDisplay').textContent = 
                        'Highest: ' + highestScore + ' ' + highestPlayerName;
                }

                // Enable controls for next game
                document.getElementById('playerName').disabled = false;
                document.getElementById('characterSelect').disabled = false;
                document.getElementById('startGameBtn').disabled = false;
                document.getElementById('stopGameBtn').disabled = true;
            }

            function generateRandomCharacters() {
                var characters = ['B', 'F', '$', '%', '3', '9'];
                var selectedChars = [];

                // Generate 3 unique random characters
                while (selectedChars.length < 3) {
                    var randomChar = characters[Math.floor(Math.random() * characters.length)];
                    if (!selectedChars.includes(randomChar)) {
                        selectedChars.push(randomChar);
                    }
                }

                // Set colors for each character position
                var colors = ['#bf8f00', 'blue', 'green'];

                // Display the characters and remove labels
                var char1Elem = document.getElementById('char1');
                char1Elem.innerHTML = selectedChars[0];
                char1Elem.style.color = colors[0];
                char1Elem.className = 'part2_character_big';

                var char2Elem = document.getElementById('char2');
                char2Elem.innerHTML = selectedChars[1];
                char2Elem.style.color = colors[1];
                char2Elem.className = 'part2_character_big';

                var char3Elem = document.getElementById('char3');
                char3Elem.innerHTML = selectedChars[2];
                char3Elem.style.color = colors[2];
                char3Elem.className = 'part2_character_big';
            }

            function clickCharacter(position) {
                if (!isGameRunning) {
                    return;
                }

                var clickedChar = document.getElementById('char' + position).textContent.trim();

                if (clickedChar === chosenCharacter) {
                    // Correct character - add 4 points
                    currentScore += 4;
                } else {
                    // Wrong character - deduct 3 points
                    currentScore -= 3;
                }

                updateScore();
            }

            function updateScore() {
                document.getElementById('currentScore').textContent = currentScore;
            }
        </script>
    </head>
    <body>
        <!-- Part 1 -->
         <h1> Part 1: Table Information</h1>
        <section>
            <table id="part1_table" border="1">
                <tr>
                    <th colspan="3" id="part1_heading">CSIT128: Assignment 2</th>
                    <th id="part1_heading">Group G6T09</th>
                </tr>
                <tr>
                    <td rowspan="3" style="width: 150px ;word-wrap: break-word; padding-left: 5px;">Student Number / Name / Email</td>
                    <td id="part1_td" style="padding-right: 20px;">1037110</td>
                    <td id="part1_td" style="padding-right: 30px;">Shannon Lee Si Ying</td>
                    <td id="part1_td" style="padding-right: 50px;">shannonlsy@gmail.com</td>
                </tr>
                <tr>
                    <td id="part1_td">1036488</td>
                    <td id="part1_td">Lim En Le</td>
                    <td id="part1_td">limenle@gmail.com</td>
                </tr>
                <tr>
                    <td id="part1_td">-</td>
                    <td id="part1_td">-</td>
                    <td id="part1_td">-</td>
                </tr>
            </table>
            <hr>
        </section>

        <!-- Part 2: Game -->
        <h1>Part 2: Game</h1>
        <section>
            <table border="1" id="part2_main_table">
                <!-- Header Row -->
                <tr>
                    <td colspan="3" id="part2_header">Part 2: Game</td>
                </tr>

                <!-- Name Input Row -->
                <tr>
                    <td colspan="3" id="part2_name_row">
                        <label><b>Name: </b></label>
                        <input type="text" id="playerName" size="30">
                    </td>
                </tr>

                <!-- Control Row (Character selection and Score) -->
                <tr>
                    <td id="part2_control_row">
                        <b>Your chosen character: </b>
                    </td>
                    <td id="part2_control_row" style="text-align: center;" >
                        <select id="characterSelect" style="width: 150px;">
                            <option value="B">B</option>
                            <option value="F">F</option>
                            <option value="$">$</option>
                            <option value="%">%</option>
                            <option value="3">3</option>
                            <option value="9">9</option>
                        </select>
                    </td>
                    <td id="part2_score_row" style="text-align: center; padding-right: 20px;">
                        <span style="font-size: 18px;"><b>Current Score: </b></span>
                        <span id="part2_score_display">
                            <span id="currentScore">0</span>
                        </span>
                    </td>
                </tr>

                <!-- Button Row -->
                <tr>
                    <td colspan="3" id="part2_button_row">
                        <table style="width:100%; border: none;">
                            <tr>
                                <td style="text-align:left; padding-left:25%; border: none;">
                                    <button type="button" id="startGameBtn" class="part2_game_button" onclick="startGame()">
                                        Start Game
                                    </button>
                                </td>
                                <td style="text-align:right; padding-right:25%; border: none;">
                                    <button type="button" id="stopGameBtn" class="part2_game_button" onclick="stopGame()">
                                        Stop Game
                                    </button>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- Character Display Row -->
                <tr>
                    <td class="part2_character_cell" onclick="clickCharacter(1)">
                        <span id="char1" style="color: #bf8f00;">&lt;1<sup>st</sup> character&gt;</span>
                    </td>
                    <td class="part2_character_cell" onclick="clickCharacter(2)">
                        <span id="char2" style="color: blue;">&lt;2<sup>nd</sup> character&gt;</span>
                    </td>
                    <td class="part2_character_cell" onclick="clickCharacter(3)">
                        <span id="char3" style="color: green;">&lt;3<sup>rd</sup> character&gt;</span>
                    </td>
                </tr>

                <!-- Highest Score Row -->
                <tr>
                    <td colspan="3" id="part2_highest_row">
                        <span id="highestDisplay" style="font-size: 23px;">Highest: </span>
                    </td>
                </tr>
            </table>
            <hr>
        </section>

        <!-- Part 3: XML/XSLT -->
        <h1>Part 3: Weather Forecast</h1>
        <section>
            <p>
                Please open the <b>A2.xml</b> file in your browser to view the weather forecast table 
                generated using XSLT transformation. The XML file uses the S2.xsl stylesheet to display 
                the data in a formatted table with weather icons and color-coded text.
            </p>
            <hr>
        </section>
    </body>
</html>
